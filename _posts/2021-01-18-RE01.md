---
layout: post
title: "Regular Expression 01: Basic"
date: 2021-01-18
categories:
  - Regular expression
tags:
  - basic
  - regular expression
author_profile: true
read_time: true
comments: true
share: true
related: true
popular: true
toc: true
toc_sticky: true
toc_label: 목차
article_tag1: regular expression
article_tag2: basic
article_section: Regular expression
meta_keywords: Regular expression, basic
published: true
---

# Regular expression

## Why do you use RE?

Suppose you need social security #. You want to hide important digits with *.

- Python code w/o re:

``` python
data = """
shaun 800905-1049118
raina 700905-1059119
"""

result = []
for line in data.split("\n"):
    word_result = []
    for word in line.split(" "):
        if len(word) == 14 and word[:6].isdigit() and word[7:].isdigit():
            word = word[:6] + "-" + "*******"
        word_result.append(word)
    result.append(" ".join(word_result))
print("\n".join(result))
```

- Python w/ re:

``` python
import re 

data = """
shaun 800905-1049118
raina 700905-1059119
"""

pat = re.compile("(\d{6})[-]\d{7}")
print(pat.sub("\g<1>-*******", data))
```

Voila ! This is the power of RE !

RE can be visualized in [regexr.com](https://regexr.com/)

---

Reference: <http://www.wikidocs.net/1642>

## Meta characters

RE has ___meta characters___ which is used for special method.  
`. ^ $ * + ? { } [ ] \ | ( )`

### Character class `[ ]`

- Matches any 1 char in `[ ]`
  - `[asd]`: any 1 char in `asd`
    a (__O__)  
    wsx (__O__)  
    zxc (__X__) -> doesn't include `a` or `s` or `d`.`j
  - `[ab][cd]`: any 2 char w/ (`a` or `b`) + (`c` or `d`)

- `-` used as range inside `[ ]`
  - `[f-j]`: any 1 char in `fghij`
  - `[a-zA-Z]`: any 1 char in every alphabet
  - `[0-9]`: any 1 char in every numeric
  - _range order matters !!_ 
    - `[A-z]` (__O__) Upper case -> lower case
    - `[Z-a]` (__X__) 
    - `[0-6]` (__O__) 
    - `[5-2]` (__X__)

- Any 1 char except characters in `[ ]`: `^` used as `not`.
  - `[^0-9]`: any 1 char except numbers
  - `[^A-D]`: 1 char (including lower cases !) except `A-D`

- Some shortcuts
  - `\d` : every digits (== `[0-9]`)
  - `\D` : every char except digits (== `[^0-9]`)
  - `\s` : every white space (== `[ \t\n\r\f\v]`)
  - `\S` : every char except white space (== `[^ \t\n\r\f\v]`)
  - `\w` : alphanumeric (== `[a-zA-Z0-9_]`)
  - `\W` : every chat except alphanumeric (== `[^a-zA-Z0-9_]`)

### Dot `.`

- Match __any 1 char__ except `\n`
  > `re.DOTALL` can include `\n` exclusively
  - `a.b`: `a` + single char in all char + `b`
    - `aab` (__O__)
    - `a1b` (__O__)
    - `abe` (__X__)
  - `[ab].`: 2 chars starting w/ `a` or `b`
  - `...`: any chars w/ size of 3 (개 단위)
    - `ABCDEFGHIJK`: `ABC` `DEF` `GHI` (__O__) `JK` (__X__)

- `.` inside `[ ]` refers to `.` itself, not all chararacters.
  - `a[.]b`: `a` + `.` char + `b`
    - `a.b` (__O__)
    - `acb` (__X__)

### Repeat `*`

- Character in front of `*` repeats __0__ ~ inf (Due to memory limit, 0.2 billion repeat)
  - `ca*t`: `c` + `a` (__0__ ~ inf times) + `t`
    - `ct` (__O__)
    - `cat` (__O__)
    - `caaaaat` (__O__)
    - `cadt` (__X__)

### Repeat `+`

- Character in front of `*` repeats __1__ ~ inf (Due to memory limit, 0.2 billion repeat)
  - `ca+t`: `c` + `a` (__1__ ~ inf times) + `t`
    - `ct` (__X__)
    - `cat` (__O__)
    - `caaaaat` (__O__)
    - `cadt` (__X__)

### Repeat `({m,n}, ?)`

- Set repeat count (range inclusive)
  - `ca{2}t`: `c` + `aa` + `t`
    - `cat` (__X__)
    - `caat` (__O__)
  - `ca{2,4}t`
    - `cat` (__X__)
    - `caat` (__O__)
    - `caaaat` (__O__)
    - `cadaat` (__X__)
  - `[aeo]{1,3}`: `a` `e` `o` 조합으로 만들수 있는 1개 ~ 3개단위 매치

- Either `m`, `n` can be empty
  - `{,n}`: from 0 to `n`
  - `{m,}`: from `m` to inf
  - `{0,}` == `*`
  - `{1,}` == `+`

- `?` == `{0, 1}`
  - `ab?c`: `a` + `b` 있어도 되고 없어도 됨 + `c` 
    - `abc` (__O__)
    - `ac` (__O__)
    - `adc` (__X__) `b` 는 있어도 되고 없어도 되지만 다른건 용납 못함!

__Meta chars above update cursor as it finds pattern__

--- 

__Meta chars below do not change the cursor and find all__

### Or `|`

- Subpattern `re1 | re2`
- `asd|[zxc]`: `asd` or `z` or `x` or `c`
- `(Mon|Tues)`day: `Monday` or `Tuesday`

### Home `^`

- Matched word MUST start w/ the keyword.
- `^Word`: `Word` at very first

### End `$`

- Match word must end w/ the keyword
- `Word$`: `Word` at very last





Reference: <https://wikidocs.net/4309>